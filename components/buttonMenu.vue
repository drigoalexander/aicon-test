<template>
  <div
    :style="{ 'background-color': btnColor }"
    @click="active = !active"
    class="w-80 px-4 gap-24 flex items-center justify-between text-white py-2 rounded-md cursor-pointer group h-fit relative"
  >
    <div class="flex gap-4 items-center">
      <svg
        v-if="placeholder === 'GENERAL'"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"
        />
      </svg>
      <svg
        v-else-if="placeholder === 'ECONOMIC'"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"
        />
      </svg>
      <svg
        v-else-if="placeholder === 'ENVIRONMENT'"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        width="24px"
        height="24px"
        viewBox="0 0 24 24"
        version="1.1"
      >
        <g id="surface1">
          <path
            style="
              stroke: none;
              fill-rule: nonzero;
              fill: white;
              fill-opacity: 1;
            "
            d="M 9.148438 0.480469 C 8.410156 0.523438 7.207031 0.734375 6.570312 1.785156 L 3.644531 6.855469 L 3.40625 7.273438 L 3.824219 7.515625 L 5.519531 8.488281 L 1.515625 8.984375 L 0.0898438 9.148438 L 1.320312 9.871094 L 1.753906 10.125 L 0.300781 12.585938 C 0.117188 12.898438 0.0117188 13.300781 0 13.753906 C -0.0117188 14.210938 0.078125 14.730469 0.375 15.179688 C 0.558594 15.460938 1.238281 16.660156 1.890625 17.820312 C 2.496094 18.902344 3.046875 19.871094 3.316406 20.296875 C 3.332031 20.34375 3.359375 20.390625 3.390625 20.429688 C 3.394531 20.4375 3.402344 20.4375 3.40625 20.445312 C 3.816406 21.0625 4.585938 21.980469 5.804688 22.003906 L 12.136719 22.003906 L 12.136719 19.574219 L 14.566406 22.800781 L 15.433594 23.941406 L 15.433594 22.003906 L 18.300781 22.050781 C 18.664062 22.050781 19.054688 21.921875 19.453125 21.703125 C 19.855469 21.488281 20.25 21.164062 20.488281 20.683594 C 20.640625 20.386719 21.34375 19.1875 22.019531 18.046875 C 22.664062 16.960938 23.261719 15.972656 23.488281 15.539062 C 23.515625 15.507812 23.535156 15.472656 23.550781 15.433594 C 23.550781 15.429688 23.546875 15.421875 23.550781 15.421875 C 23.882812 14.757812 24.289062 13.640625 23.699219 12.570312 L 23.699219 12.554688 L 20.773438 7.484375 L 20.535156 7.078125 L 20.113281 7.320312 L 18.433594 8.296875 L 19.996094 4.574219 L 20.566406 3.253906 L 19.320312 3.976562 L 18.898438 4.214844 L 17.488281 1.726562 L 17.476562 1.726562 C 17.292969 1.410156 17.007812 1.121094 16.621094 0.886719 C 16.238281 0.652344 15.761719 0.472656 15.238281 0.496094 C 15.234375 0.496094 15.230469 0.496094 15.226562 0.496094 C 15.210938 0.496094 15.179688 0.496094 15.164062 0.496094 C 14.160156 0.515625 11.824219 0.488281 9.179688 0.480469 Z M 9.164062 1.441406 C 9.179688 1.441406 9.183594 1.441406 9.195312 1.441406 C 10.941406 1.445312 11.976562 1.453125 13.171875 1.453125 C 12.953125 1.664062 12.695312 1.84375 12.554688 2.085938 L 11.640625 3.675781 L 11.625 3.703125 C 11.601562 3.738281 11.578125 3.773438 11.566406 3.808594 L 8.503906 9.105469 L 4.710938 6.914062 L 7.394531 2.28125 C 7.769531 1.660156 8.546875 1.480469 9.164062 1.441406 Z M 15.179688 1.453125 C 15.199219 1.457031 15.21875 1.457031 15.238281 1.453125 C 15.246094 1.453125 15.25 1.453125 15.253906 1.453125 C 15.535156 1.4375 15.847656 1.546875 16.109375 1.710938 C 16.371094 1.871094 16.589844 2.097656 16.648438 2.203125 L 18.300781 5.113281 L 18.539062 5.535156 L 18.570312 5.519531 L 17.476562 8.070312 L 14.746094 7.738281 L 14.761719 7.726562 L 14.519531 7.304688 L 12.585938 3.945312 L 13.378906 2.566406 C 13.683594 2.042969 14.429688 1.472656 15.179688 1.453125 Z M 12.03125 4.921875 L 13.441406 7.363281 L 13.019531 7.621094 L 11.773438 8.339844 L 13.199219 8.503906 L 17.203125 9 L 15.496094 9.976562 L 15.089844 10.214844 L 15.328125 10.636719 L 18.253906 15.71875 L 15.433594 15.71875 L 15.433594 13.785156 L 14.566406 14.941406 L 12.136719 18.164062 L 12.136719 15.71875 L 5.789062 15.71875 L 7.199219 13.261719 L 7.636719 13.515625 L 8.878906 14.234375 L 8.308594 12.914062 L 6.71875 9.179688 L 8.429688 10.171875 L 8.851562 10.410156 L 9.089844 10.003906 Z M 20.191406 8.386719 L 22.859375 13.019531 C 23.214844 13.664062 22.957031 14.460938 22.679688 15.015625 C 22.679688 15.015625 22.679688 15.027344 22.679688 15.03125 C 22.679688 15.03125 22.664062 15.042969 22.664062 15.046875 C 22.664062 15.050781 22.664062 15.054688 22.664062 15.058594 C 22.574219 15.234375 22.367188 15.402344 22.078125 15.523438 C 21.777344 15.65625 21.40625 15.71875 21.105469 15.71875 L 19.378906 15.71875 L 16.394531 10.574219 Z M 5.789062 9.421875 L 6.855469 11.953125 L 6.613281 12.375 L 4.636719 15.796875 C 4.507812 15.878906 4.433594 16.019531 4.425781 16.171875 L 3.539062 17.699219 C 3.429688 17.890625 3.390625 18.136719 3.316406 18.359375 C 3.085938 17.953125 2.988281 17.800781 2.730469 17.339844 C 2.078125 16.179688 1.433594 15.042969 1.171875 14.640625 C 1.015625 14.40625 0.953125 14.09375 0.960938 13.785156 C 0.96875 13.484375 1.0625 13.191406 1.125 13.078125 C 1.125 13.078125 1.125 13.066406 1.125 13.066406 L 2.820312 10.183594 L 3.074219 9.765625 L 3.058594 9.75 Z M 21.78125 16.546875 C 21.542969 16.945312 21.464844 17.097656 21.195312 17.550781 C 20.515625 18.691406 19.851562 19.820312 19.636719 20.25 C 19.507812 20.5 19.273438 20.71875 19.003906 20.863281 C 18.734375 21.011719 18.421875 21.089844 18.300781 21.089844 L 14.953125 21.046875 L 14.476562 21.046875 L 14.476562 21.089844 L 12.796875 18.871094 L 14.476562 16.648438 L 14.476562 16.679688 L 21.105469 16.679688 C 21.320312 16.679688 21.550781 16.589844 21.78125 16.546875 Z M 5.234375 16.679688 L 11.175781 16.679688 L 11.175781 21.046875 L 5.820312 21.046875 C 5.8125 21.046875 5.8125 21.046875 5.804688 21.046875 C 5.078125 21.023438 4.527344 20.421875 4.183594 19.90625 C 4.183594 19.898438 4.183594 19.894531 4.183594 19.890625 C 4.066406 19.726562 4.011719 19.453125 4.050781 19.125 C 4.089844 18.796875 4.214844 18.4375 4.363281 18.179688 Z M 5.234375 16.679688 "
          />
        </g>
      </svg>

      <svg
        v-else-if="placeholder === 'SOCIAL'"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"
        />
      </svg>

      <span>{{ placeholder }}</span>
    </div>

    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-6 h-6 -rotate-90 group-hover:rotate-0 duration-300 ease-in-out"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M19.5 8.25l-7.5 7.5-7.5-7.5"
      />
    </svg>
  </div>
  <TransitionGroup>
    <ul
      class="flex flex-col items-end w-80 gap-1"
      v-if="active === true && list.length > 0"
    >
      <NuxtLink
        :to="el.path"
        v-for="(el, idx) in list"
        :key="idx"
        class="text-start min-w-fit border-[1px] rounded-md bg-white hover:bg-sidebar text-btn-focused hover:text-white duration-300 ease-in-out cursor-pointer border-blue-300 px-4 py-2 whitespace-nowrap"
        >{{ el.name }}</NuxtLink
      >
    </ul>
  </TransitionGroup>
</template>

<script setup>
const props = defineProps({
  btnColor: String,
  placeholder: String,
  list: Array,
});
const active = ref(false);
</script>

<style scoped>
.v-enter-active,
.v-leave-active {
  transition: opacity 0.5s ease;
}

.v-enter-from,
.v-leave-to {
  opacity: 0;
}
</style>
